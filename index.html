<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>متجر البانلات والسكربتات</title>
    <meta name="description" content="متجر احترافي لبيع البانلات والسكربتات لأنظمة ANDROID و PC و IOS.">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; media-src 'self' https: data:; style-src 'self' 'unsafe-inline'; font-src 'self' https: data:; script-src 'self' https://www.gstatic.com https://www.googleapis.com; connect-src 'self' https://*.firebaseio.com https://*.googleapis.com https://*.gstatic.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com;">
    <link rel="preconnect" href="https://www.gstatic.com">
    <link rel="preconnect" href="https://www.googleapis.com">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="video-bg">
      <video id="bgVideo" autoplay muted loop playsinline>
        <source src="assets/bg.mp4" type="video/mp4" />
      </video>
      <div class="video-overlay"></div>
    </div>

    <header class="site-header blur-on-scroll">
      <div class="container header-inner">
        <a class="brand" href="#">
          <img src="assets/logo.png" alt="Logo" class="brand-logo" />
          <span class="brand-name">Panels Store</span>
        </a>
        <nav class="main-nav">
          <a href="#android">ANDROID</a>
          <a href="#pc">PC</a>
          <a href="#ios">IOS</a>
        </nav>
        <div class="auth-actions">
          <button id="btn-open-auth" class="btn btn-ghost">تسجيل الدخول / إنشاء حساب</button>
          <div id="user-info" class="user-info hidden">
            <img id="user-avatar" class="avatar" alt="" />
            <span id="user-name"></span>
            <button id="btn-logout" class="btn btn-danger">تسجيل الخروج</button>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero center fade-in-on-view">
        <div class="container hero-inner">
          <img src="assets/logo-large.png" alt="Logo" class="hero-logo" />
          <h1 class="hero-title">متجر البانلات والسكربتات</h1>
          <p class="hero-subtitle">تجربة شراء سلسة، تصميم حديث، وأمان عالي</p>
        </div>
      </section>

        <section id="android" class="products-section fade-in-on-view">
          <div class="container">
            <h2>ANDROID</h2>
            <div id="grid-android" class="products-grid"></div>
          </div>
        </section>

        <section id="pc" class="products-section fade-in-on-view">
          <div class="container">
            <h2>PC</h2>
            <div id="grid-pc" class="products-grid"></div>
          </div>
        </section>

        <section id="ios" class="products-section fade-in-on-view">
          <div class="container">
            <h2>IOS</h2>
            <div id="grid-ios" class="products-grid"></div>
          </div>
        </section>
    </main>

    <div id="checkout-modal" class="modal hidden" aria-hidden="true" role="dialog">
      <div class="modal-backdrop" data-close="true"></div>
      <div class="modal-content">
        <button class="modal-close" data-close="true">×</button>
        <h3>الدفع</h3>
        <div id="checkout-product" class="checkout-product"></div>

        <form id="payment-form" class="form">
          <label>وسيلة الدفع</label>
          <select id="payment-method" required>
            <option value="vodafone_cash">فودافون كاش</option>
            <option value="instapay">إنستاباي</option>
            <option value="binance">بينانس</option>
          </select>

          <div class="transfer-info">
            <p class="muted">أرسل المبلغ إلى الرقم الظاهر أدناه ثم أدخل بيانات التحويل.</p>
            <div class="transfer-target">
              <span>رقم التحويل:</span>
              <strong id="transfer-number">—</strong>
            </div>
          </div>

          <label>الرقم المُرسل منه</label>
          <input id="sender-number" type="text" placeholder="مثال: 010xxxxxxx" required />

          <label>رقمك للتواصل</label>
          <input id="contact-number" type="text" placeholder="مثال: واتساب / تليجرام" required />

          <label>المبلغ المُرسل</label>
          <input id="amount" type="number" min="1" step="0.01" required />

          <button id="btn-complete-payment" type="submit" class="btn btn-primary">إتمام الدفع</button>
          <div id="payment-status" class="status"></div>
        </form>
      </div>
    </div>

    <div id="auth-modal" class="modal hidden" aria-hidden="true" role="dialog">
      <div class="modal-backdrop" data-close="true"></div>
      <div class="modal-content auth-content">
        <button class="modal-close" data-close="true">×</button>
        <h3>تسجيل الدخول / إنشاء حساب</h3>

        <div class="auth-options">
          <button id="btn-google" class="btn btn-google">الدخول عبر Google</button>
          <div class="divider"><span>أو</span></div>
          <form id="email-auth-form" class="form">
            <label>البريد الإلكتروني</label>
            <input id="email" type="email" required />
            <label>كلمة المرور</label>
            <input id="password" type="password" minlength="6" required />
            <div class="row">
              <button id="btn-email-login" type="button" class="btn btn-primary">تسجيل الدخول</button>
              <button id="btn-email-signup" type="button" class="btn btn-ghost">إنشاء حساب</button>
            </div>
            <button id="btn-reset" type="button" class="btn btn-link">نسيت كلمة المرور؟</button>
            <div id="auth-status" class="status"></div>
          </form>
        </div>
      </div>
    </div>

    <footer class="site-footer">
      <div class="container">
        <p>© <span id="year"></span> Panels Store. جميع الحقوق محفوظة.</p>
      </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>

    <script src="js/firebase.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>